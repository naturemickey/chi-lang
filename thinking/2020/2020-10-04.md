第一天，还不十分清楚这个语言会是什么样的，先畅想一下：

- 面向对象与函数式的结合体
- 多核（actor？）
- 分布式——或许也可以实现为框架或中间件，而不一定在语言层面，不过没关系，先记在这里，后面真的开始动手的时候再想细节。
- 结构化——顺序、分支、循环——有的函数式语言没有循环，这对于大多数开发人员来说还是太奇葩了。常规的结构化语法我是打算支持的，同时我也打算支持函数式中常见的尾递归。
- 变量？——在函数式的思维下，搞变量还是一个不太符合思想的事情，但我还是不太想用各种变体的东西来替代变量（Hashkell中的monad或者内置数据库等方式也并不见得很好用，而且似乎也无法避免副作用）。不过状态可能还是要控制在一定的范围内。
- 虚拟机，GC
- 宏？——可能很有限（或不支持）
- 反射？——如何控制使用范围？反射很有可能导致在编译时无法发现的问题
- ……

我不是PL领域的人，只是感兴趣。开发这个语言暂时也没有奢望会成为一种流行——毕竟这种概率太小——所以暂时也不会做任何宣传（包括身边的朋友）。当然，我也没有完全接受这个语言是一个小众语言这个事实，如果TA能够”意外“的变得流行，我也是非常高兴的。

在语法设计上，我倾向于封闭性（而不是开放），我并不希望设计一个十分灵活的开发语言——可以看到很多语言设计得非常灵活，可以做到各种看起来很NB的事情，但灵活性通常也意味着很难被程序员熟练掌握，从而导致各种各样的奇葩代码的出现。

这门语言的名字叫“气”，不是“空气”的“气”，而是“气息”的“气”，或者说是在传统内家拳中用意念控制内息的方法里，在体内流转的意念的载体就是气，“气沉丹田”的“气”。用这个名字只是内为它更接近中国传统文化，虽然“开发语言”本身是一个非常现代的东西（相对于传统来说），但我仍然希望可以有一点传统的内涵在里面。“气”的英文翻译可能为energy，不过我选择用音译的chi，因为我觉得在中国传统文化中，“气”的含义可能更加丰富，无法用任何单词替代，甚至不能直接解释。

chi是一门有虚拟机的语言，虚拟机的开发我打算用rust语言来做，这是因为所有的系统编程语言中，并没有我特别熟练的（可能C++是最熟的，不过也多年没有使用了，不知道是否还有足够的底气去应对它的复杂度），rust是目前我所知的系统级开发语言中，最喜欢的一个（性能很棒，内存管理在编译期搞定），所以就用它了——在性能上，之前曾经用java,go,rust三个语言实现同一个算法（约数百行的代码，不同语言长度不同，go最短，java最长），执行速度上可以看出java和go是差不多的，但rust比前两者至少快了一倍。

对于chi的编译器（chic）来说，我打算在后期用chi来自举，所以在前期可能用什么语言并不是非常重要，我本来打算用我最熟悉的技术栈（Java + Antlr4）来搞定它，不过后来我还是决定用rust，因为：

1. 我并不确定后面我一定会实现自举，如果没有的话，可能和虚拟机用统一的技术栈是更好的选择。
2. 如果后面实现自举，那么chi语言并没有antlr4这样好用的工具，所以这里还是不用工具实现一次比较好，不然以后在自举实现的时候还得头疼一次——当然，如果我的目标vm是jvm的话，可能用java + antlr4就是一个即简单又实用的选择了。

我会用mac和win同时来开发，这主要是因为在家里的时候我通常是用Macbook pro，其它时候我通常随身带着Matebook pro（使用里面的“华为云电脑”来开发）。

实现chi这的事情是一个长效的事情，所以我也并没有立下后面的里程碑的时间目标，只要每天前进就行了。我现在的直属上级（他有一个很平凡的名字叫“平凡”）有一句话我蛮喜欢：
> 人要做一些长效的事情，不要总是追求冲得很快，跑得快，挂得也快。

第一天的日记就写到这里，下面从词法开始吧——这是一个很基础的部分，不过我有可能会把词法和语法融合在一起来写。

---
【穿越 2021-11-14】
1. 华为云电脑被卡脖子了（下架了），最近又租了一个天翼云电脑，体验好像比华为云电脑还要好一点点。
2. 时隔一年多又回来了——过去一年因工作变动，没花时间在chi上。
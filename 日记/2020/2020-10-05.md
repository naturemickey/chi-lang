昨天还想从词法开始，今天就变卦了。早上起来想了一下，词法是一个非常基础的部分，换句话说，是最不重要的部分，所以先考虑后面的吧，词法只作为顺带完成就好了。

为了使chi能够尽快运行起来，我需要先设计一下极简版本的vm，这样我需要搞定以下几件事：
1. main
2. print
3. int 或 string
4. 某种运算，比如+-*/
5. 栈

main是一个基础符号，比较好搞；print可以先设计成基础命令；运算和堆栈命令也比较常规；

int和string是一个可能并没有想清楚的东西，先从int开始吧：

数字本身的抽象程度是一个重要的考虑，涉及到的问题：
1. 要区分int和float么？——有的抽象程度高的语言就不区分这个，直接一个number搞定。
2. int在实现上是一个和c int等价的int还是一个累似于java BigInteger的东西呢？：
    2.1 如果是前者，这个基础vm将会非常容易实现，但抽象成度就太低，程序员就还是需要关心不同的数值类型的转换。
    2.2 如果是后者，那么这个int就变成库了，或许直接在vm层面来搞并不好。

想来想去，或许现在先做为最基础的c int来搞，后面可以用做语法糖的形式来做高抽象度的实现。

那么，我们可以实现大概是这样的asm：

```
main:
    istore 1
    istore 2
    istore 3
    imul
    iadd
    print
```

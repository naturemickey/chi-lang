
关于语法的设计我认为是在“表达能力”与“类型系统完备性”之间不断的做平衡。昨天想的几个点都是这种类型的思考——虽然从根本上来看都是图灵等价的——例如：对于可变与不可变的权衡必然会挑战程序员的认知，虽然类型系统会因为这个语法变行更加完备，但如果程序员不能运用得如条件反射一样熟练的话，对于程序表达的流畅性上就会降低。

接昨天所说的if后面的小括号是否可以省略（或者是否存在）的问题，虽然比较小，但也需要做一下这样的权衡。

在大多数情况下，是否有括号是并不影响阅读的，比如：

```java
if (n > 0) {
    // statements
}
```
```go
if n > 0 {
    // statuements
}
```
在这两段代码里，似乎都并不会存在很大的障碍。不同的人可能也会有不同的理解，但不会有大的问题：

1. 习惯Java的人应该会感觉前者更具有可读性。
2. 习惯go的人会认为第二种写法写起来非常流畅。

我个人是习惯第二种写法的，可能只是因为习惯了吧——这种习惯会导致我在写Java代码的时候经常忘记写括号，需要做一点小小的返工。当然，这一定会对代码写作的流畅性有所影响。

但是，如果在复杂一点的情况下会怎么样呢？上代码对比一下：

```java
if (new Map<String, String>(){{
        this.put("k", "v");
    }}.isEmpty()) {
    // statements
}
```
```java
if new Map<String, String>(){{
        this.put("k", "v");
    }}.isEmpty() {
    // statements
}
```

似乎都不好看，不过在有括号的情况下，我们的ide还能够为我们做一点**高亮**处理
<font color=red>（</font>
<font color=orange>或</font>
<font color=purple>者</font>
<font color=green>彩</font>
<font color=purple>虹</font>
<font color=orange>色</font>
<font color=red>）</font>。

我的决策是：括号是可选的——由程序员自己来决定是否需要为了可读性而增加括号吧！

不过在一开始我会实现为“必须有括号”，因为“必须有括号”的实现更简单。

---

昨天说的```A.new()```与```A()```的两个语法的选择问题要补充说明一下，有一些思路昨天没有写出来。

在可读性上```A.new()```是更好的，但为什么我仍然要用```A()```呢？因为：

1. 如果要使语法相对统一，那么在A类中就需要有一个名为new的函数名，那么这里的字面意思就是用类名去调用函数名，这当然是可以实现的但这样就和Java中的静态方法的调用形式一样了，而我在前面也讲过，我目前所想的chi中是没有静态函数的（也没有伴生对象）——如果这样设计，那么就有了“用类名调用函数”与“用对象调用函数”两种形式的语法,而实际上是只有一种的。
2. ```A()```在本质上就是一个普通的函数调用，而在字面的形式上也和普通函数调用完全一致——构造函数与普通函数在本质上是一样的。
